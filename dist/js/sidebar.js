function openSidebar(){$nav.animate({width:"200px"},300),$mask.fadeIn(300),$navMenuBtn.animate({width:30,height:30},300),$nav.width()<200&&jua.rotate($navMenuBtn,0,-45,300),$(".weather").fadeIn(200)}function closeSidebar(t){t&&t.stopPropagation(),$nav.animate({width:"40px"},300),$mask.fadeOut(300),$navMenuBtn.animate({width:22,height:22},300),$nav.width()>40&&jua.rotate($navMenuBtn,-45,0,300),$(".weather").fadeOut(200)}function changeNavMenu(t){$navMenu.children().removeClass("active"),t.siblings().animate({paddingLeft:0},200),t.animate({paddingLeft:10},200),t.children("a").addClass("active")}$sidebar=$("#sidebar"),$content=$("#content"),$mask=$("#content .mask"),$nav=$("#nav"),$navMenuBtn=$("#nav .menu"),$navMenu=$("#nav ul li"),$main=$("#main");var list=["home","skill","document","communion","about"];$sidebar.on("click",openSidebar),$content.add($navMenuBtn).on("click",function(t){$nav.width()>40&&closeSidebar(t)}),$navMenu.on("click",function(t){var n=$(this);$.fn.fullpage.destroy("all"),$("script[src='./home/home.js']").remove(),$("script[src='./skill/skill.js']").remove(),$("script[src='./document/document.js']").remove(),$("script[src='./communion/communion.js']").remove(),$("script[src='./about/about.js']").remove(),changeNavMenu(n)}),window.onpopstate=function(){var t=$main.children().attr("class");for(var n in list)list[n]==t&&setTimeout(changeNavMenu($navMenu.eq(n)),100)};var onhash=window.location.hash.replace(/#\//,"");onhash&&$.ajax({type:"get",url:onhash,dateType:"html",success:function(t){$main.html(t).hide().fadeIn(1e3),$(window).trigger("popstate");var n=onhash.replace(/(\w)\/.*/,"$1");$('<script src="./'+n+"/"+n+'.js"><script>').appendTo($("body"))},error:function(){console.log("url链接错误")}}),$.pjax({selector:"a[data-pjax]",container:"#main",show:"fade",cache:!1,storage:!1,timeout:1e5,titleSuffix:"",filter:function(){},callback:function(t){switch(t.type){case"success":var n=window.location.hash.replace(/#\//,"").replace(/(\w)\/.*/,"$1");$('<script src="./'+n+"/"+n+'.js"><script>').appendTo($("body"))}}}),$main.on("pjax.start",function(){$(".content_loading_animation").show()}).on("pjax.end",function(){$(".content_loading_animation").hide(),closeSidebar()}),function(){function t(n,e,a){n.clearRect(0,0,100,100),n.beginPath(),n.strokeStyle="#000000",a<2*Math.PI?a+=Math.PI/50:(e+=Math.PI/50,a=2*Math.PI,e>=2*Math.PI&&a>=2*Math.PI&&(e=0,a=0)),n.arc(30,20,15,e,a,!1),n.stroke(),requestAnimationFrame(function(){t(n,e,a)})}!function(){for(var t=$(".content_loading_animation").width()/2,n=$(".content_loading_animation").height()/2,e=t,a=$(".content_loading_animation ul li"),i=[0,30,60,90,120,150,180,210,240,270,300,330],o=0;o<i.length;o++){var c=2*Math.PI/360*i[o];a[o].style.left=parseInt(t+Math.sin(c)*e)-9+"px",a[o].style.top=parseInt(n+Math.cos(c)*e)-9+"px"}}();var n=document.getElementById("canvas").getContext("2d");n.lineWidth=4,t(n,0,0)}(),function(){function t(t){$.ajax({type:"get",dataType:"json",url:"https://free-api.heweather.com/v5/weather?city="+t+"&key=763188a5a5fc4e5fb55913009e0ba0c5",success:function(t){$(".weather .tmp span").text(t.HeWeather5[0].now.tmp),$(".weather .cond span").text(t.HeWeather5[0].now.cond.txt),$(".weather .city span").text(t.HeWeather5[0].basic.city),$(".weather .wind span").text(t.HeWeather5[0].now.wind.dir),$(".weather .aqi span").text(t.HeWeather5[0].aqi.city.qlty)}})}$.getScript("http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=js",function(n){t(encodeURI(remote_ip_info.city))})}();