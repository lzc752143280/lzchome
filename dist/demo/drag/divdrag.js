function divdrag(e,t){var o,n,c=$(e).outerWidth(),i=$(e).outerHeight(),s=$(document).width()-c/2,d=$(document).height()-i/2;$(t).mousedown(function(t){var r=t.clientX-$(e).offset().left,a=t.clientY-$(e).offset().top;$(document).mousemove(function(t){o=t.clientX+c/2-r,n=t.clientY+i/2-a,o<c/2&&(o=c/2),o>s&&(o=s),n<i/2&&(n=i/2),n>d&&(n=d),$(e).css("top",n+"px"),$(e).css("left",o+"px"),window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()})}),$(document).mouseup(function(){$(document).unbind("mousemove")})}divdrag(".registerbox",".drag"),$(".top span").click(function(e){$(".registerbox").css("display","block"),(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0}),document.onclick=function(e){var t=(e=e||window.event).target?e.target.className:e.srcElement.className;"registerbox"!=t&&"drag"!=t&&$(".registerbox").css("display","none")};